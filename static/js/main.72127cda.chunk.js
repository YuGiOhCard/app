(this["webpackJsonpygocard-app"]=this["webpackJsonpygocard-app"]||[]).push([[0],{13:function(t,e,n){t.exports=n(27)},19:function(t,e,n){},20:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var r,a=n(2),i=n.n(a),o=n(6),c=n.n(o),u=n(1),s=n.n(u),l=n(3),h=n(7),f=n(8),d=n(12),m=n(11),p=n(4),w=n(9),b=n(10),g=(n(19),n(20),n(0)),v=n.n(g);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(p.a)(t);if(e){var a=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var x="",C=0,E=new b.FitAddon,k=function(t){Object(d.a)(n,t);var e=y(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).typing=function(t){t.length>C?(r.write(t.charAt(C)),C++,setTimeout(a.typing(t),1e4)):C=0},a.prompt=function(t){if(a.state.isRunning||a.state.tringClaim)a.run();else{if(""!==x){var e=x.toLowerCase();return"run"===e?void a.run():"help"===e?void a.help():"home"===e?(window.open("https://ygocard.org","_blank"),void r.write("\r\n$ ")):(a.help(),void r.write("\r\n$ "))}r.write("\r\n$ "+x)}},a.startRun=function(){a.setState({isRunning:!0}),console.log(a.state.isRunning)},a.stopRun=function(){a.setState({isRunning:!1})},a.getRun=function(){return a.state.isRunning},a.startClaim=function(){a.setState({tringClaim:!0})},a.stopClaim=function(){a.setState({tringClaim:!1})},a.tringClaim=function(){return a.state.tringClaim},a.help=function(){r.write("\r\n");r.write("YuGiOhCard is a multichain card collection with a 1+N mechanism.\r\n\r\nAvailable Commands:\r\n\trun         Run to mint YuGiOhCard NFT\r\n\thelp        Show this usage message\r\n\thome        Back to home\r\n")},a.run=function(){r.write("\r\n"),console.log(Date.now().valueOf());var t=Date.now().valueOf();if(t<16409088e5){var e=1640908800-t/1e3,n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60);return e=Math.floor(e-3600*n-60*i),void r.write("Purchase is not yet available. "+n.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")+":"+e.toString().padStart(2,"0")+" left.\r\n$ ")}var o="",c=a.typing,u=a.startRun,h=a.stopRun,f=a.getRun,d=a.startClaim,m=a.stopClaim,p=a.tringClaim,w=!1,b=window.ethereum,g=0;function y(){return g}f()&&(""===x||isNaN(x)||(g=Number(x)),g<1&&(g=1)),p()&&(""===x||"y"===x.toLowerCase().charAt(0)||(m(),w=!0));var C=function(){var t=Object(l.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{to:"0x9645a7550d6CE93E43c4FF27526E05fcAb6aac4c",data:"0xa035b1fe"},"pending"],n=0,t.next=4,b.request({method:"eth_call",params:e}).then((function(t){n=Number(t)})).catch((function(t){console.log("checkCanClaim error: ",t),r.write("\r\n$ ")}));case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(l.a)(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[{from:e,to:"0x9645a7550d6CE93E43c4FF27526E05fcAb6aac4c",data:"0xbf3506c1000000000000000000000000"+e.substr(2),value:"0x0"},"pending"],a=!1,t.next=4,b.request({method:"eth_call",params:n}).then((function(t){1===Number(t)&&(a=!0)})).catch((function(t){console.log("checkCanClaim error: ",t),r.write("\r\n$ ")}));case 4:return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.write("Tring to claim for free...\r\n"),n=[{from:e,to:"0x9645a7550d6CE93E43c4FF27526E05fcAb6aac4c",data:"0x4e71d92d"}],t.next=4,b.request({method:"eth_sendTransaction",params:n}).then((function(t){r.write("Your tx hash is "+v.a.yellow(t)),r.write("\r\n$ ")})).catch((function(t){r.write(v.a.red("ERROR: "+t.message)),r.write("\r\n$ ")}));case 4:m();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function O(){return(O=Object(l.a)(s.a.mark((function t(){var e,n,a,i,l,m,g,x,O;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof window.ethereum){t.next=2;break}return t.abrupt("return");case 2:if(console.log("window.ethereum.chainId: ",window.ethereum.chainId),"0x1"===window.ethereum.chainId){t.next=13;break}return t.prev=4,t.next=7,b.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(4),console.log("switchError: ",t.t0),t.abrupt("return");case 13:return t.next=15,b.request({method:"eth_requestAccounts"});case 15:return e=t.sent,n=e[0],console.log(n),t.next=20,C();case 20:if(a=t.sent,console.log("Price: ",a),!f()){t.next=33;break}return(i=y())>20&&(i=20),r.write("Tring to purchase "+v.a.yellow(i)+" card(s)...\r\n"),l="0xa0712d68"+Number(i).toString(16).padStart(64,"0"),m=Number(i)*a,g=[{from:n,to:"0x9645a7550d6CE93E43c4FF27526E05fcAb6aac4c",data:l,value:m.toString(16)}],t.next=31,b.request({method:"eth_sendTransaction",params:g}).then((function(t){r.write("Your tx hash is "+v.a.yellow(t)),r.write("\r\n$ ")})).catch((function(t){r.write(v.a.red("ERROR: "+t.message)),r.write("\r\n$ ")}));case 31:return h(),t.abrupt("return");case 33:if(!p()){t.next=37;break}return t.next=36,k(n);case 36:return t.abrupt("return");case 37:if(w){t.next=50;break}return r.write("Your account is "+v.a.yellow(n)+"\r\n"),r.write("Tring to check whether you are "+v.a.blue("PEOPLE")+"...\r\n"),t.next=42,E(n);case 42:if(!t.sent){t.next=48;break}return o="You are "+v.a.yellow("PEOPLE")+".\r\nTo claim a card for free or no (Y/n): ",c(o),d(),t.abrupt("return");case 48:c(o="You are not PEOPLE or you've claimed, you need to pay for mint.\r\n");case 50:return c(o="Tring to check your balance...\r\n"),t.next=54,b.request({method:"eth_getBalance",params:[n,"latest"]});case 54:if(x=t.sent,r.write("Your balance is: "+v.a.yellow(Number(x)/1e18)+" ETH\r\n"),O=Math.floor(Number(x)/(1.2*a)),r.write("Minting a card costs "+v.a.magenta(a/1e18)+" ETH.\r\n"),!(O<1)){t.next=64;break}return r.write(v.a.red("You can't mint YGOCard.\r\n")),r.write("$ "),t.abrupt("return");case 64:r.write("And you can mint "+v.a.yellow(O)+" card(s).\r\n"),r.write("How many cards do you want to purchase?\r\nAmount[1-20]: "),u();case 67:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}!function(){O.apply(this,arguments)}()},a.state={logs:"",isRunning:!1,tringClaim:!1},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var t=this;(r=new w.Terminal({convertEol:!0,fontFamily:"'Fira Mono', monospace",fontSize:22,fontWeight:900,cursorBlink:!0})).setOption("theme",{background:"black",foreground:"white"}),r.loadAddon(E),r.open(document.getElementById("xterm")),r.write(v.a.magenta("YuGiOhCard")+" is a multichain card collection with a "+v.a.blue("1+N")+" mechanism.\n"),r.write("YuGiOhCard NFT is the main form of YuGiOhCard, and its pictures and attributes are based on "+v.a.cyan("Yu-Gi-Oh! TRADING CARD GAME")+".\n"),r.write("YuGiOhCard NFT is divided into "+v.a.blue("main card")+" and "+v.a.blue("subcard")+".\n"),r.write("The subcard adopts the properties of the main card and ALL on-chain earnings of the subcard are attributed to the main card.\n"),this.help(),E.fit(),r.onKey((function(e){var n=e.domEvent.key;"Enter"===n?(t.prompt(n),x=""):"Backspace"===n?r.write("\b \b"):(x+=n,r.write(v.a.green(n)))})),this.prompt()}},{key:"render",value:function(){return i.a.createElement("div",{id:"xterm",className:"fill-window"})}}]),n}(i.a.Component),O=document.getElementById("root");c.a.render(i.a.createElement(k,null),O)}},[[13,1,2]]]);
//# sourceMappingURL=main.72127cda.chunk.js.map